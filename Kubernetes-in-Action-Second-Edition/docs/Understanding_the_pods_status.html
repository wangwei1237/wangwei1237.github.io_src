
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>6.1 Understanding the pod's status · Kubernetes实战（第二版）</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="wangwei17">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Keeping_containers_healthy.html" />
    
    
    <link rel="prev" href="Managing_the_lifecycle_of_the_Pods_containers.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://wangwei1237.gitee.io/" target="_blank" class="custom-link">17哥的个人网站</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    前言
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Welcome</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="Welcome.html">
            
                <a href="Welcome.html">
            
                    
                    Welcome
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Part 1: First Time On a Boat: Introduction to Kubernetes</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="Introducing_Kubernetes_0.html">
            
                <a href="Introducing_Kubernetes_0.html">
            
                    
                    1 Introducing Kubernetes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Introducing_Kubernetes_1.html">
            
                <a href="Introducing_Kubernetes_1.html">
            
                    
                    1.1 Introducing Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Understanding_Kubernetes.html">
            
                <a href="Understanding_Kubernetes.html">
            
                    
                    1.2 Understanding Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Introducing_Kubernetes_into_your_organization.html">
            
                <a href="Introducing_Kubernetes_into_your_organization.html">
            
                    
                    1.3 Introducing Kubernetes into your organization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="Summary_1.html">
            
                <a href="Summary_1.html">
            
                    
                    1.4 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Understanding_containers.html">
            
                <a href="Understanding_containers.html">
            
                    
                    2 Understanding containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="Introducing_containers.html">
            
                <a href="Introducing_containers.html">
            
                    
                    2.1 Introducing containers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="Exploring_containers_hands-on.html">
            
                <a href="Exploring_containers_hands-on.html">
            
                    
                    2.2 Exploring containers hands-on
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="Understanding_what_makes_containers_possible.html">
            
                <a href="Understanding_what_makes_containers_possible.html">
            
                    
                    2.3 Understanding what makes containers possible
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="Summary_2.html">
            
                <a href="Summary_2.html">
            
                    
                    2.4 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Deploying_your_first_application.html">
            
                <a href="Deploying_your_first_application.html">
            
                    
                    3 DEPLOYING YOUR FIRST APPLICATION
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="Deploying_a_Kubernetes_cluster.html">
            
                <a href="Deploying_a_Kubernetes_cluster.html">
            
                    
                    3.1 Deploying a Kubernetes cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="Interacting_with_Kubernetes.html">
            
                <a href="Interacting_with_Kubernetes.html">
            
                    
                    3.2 Interacting with Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="Running_your_first_application_on_Kubernetes.html">
            
                <a href="Running_your_first_application_on_Kubernetes.html">
            
                    
                    3.3  Running your first application on Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="Summary_3.html">
            
                <a href="Summary_3.html">
            
                    
                    3.4 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Part 2: Learning the Ropes: Kubernetes API Objects</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="Introducing_the_Kubernetes_API_Objects.html">
            
                <a href="Introducing_the_Kubernetes_API_Objects.html">
            
                    
                    4. Introducing the Kubernetes API Objects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="Getting_familiar_with_the_Kubernetes_API.html">
            
                <a href="Getting_familiar_with_the_Kubernetes_API.html">
            
                    
                    4.1 Getting familiar with the Kubernetes API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="Examining_an_objects_individual_properties.html">
            
                <a href="Examining_an_objects_individual_properties.html">
            
                    
                    4.2 Examining an object’s individual properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="Observing_cluster_events_via_Event_objects.html">
            
                <a href="Observing_cluster_events_via_Event_objects.html">
            
                    
                    4.3 Observing cluster events via Event objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="Summary_4.html">
            
                <a href="Summary_4.html">
            
                    
                    4.4 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Running_applications_in_Pods.html">
            
                <a href="Running_applications_in_Pods.html">
            
                    
                    5. Running applications in Pods
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="Understanding_pods.html">
            
                <a href="Understanding_pods.html">
            
                    
                    5.1  Understanding pods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="Creating_pods_from_YAML_or_JSON_files.html">
            
                <a href="Creating_pods_from_YAML_or_JSON_files.html">
            
                    
                    5.2 Creating pods from YAML or JSON files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="Interacting_with_the_application_and_the_pod.html">
            
                <a href="Interacting_with_the_application_and_the_pod.html">
            
                    
                    5.3 Interacting with the application and the pod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="Running_multiple_containers_in_a_pod.html">
            
                <a href="Running_multiple_containers_in_a_pod.html">
            
                    
                    5.4 Running multiple containers in a pod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="Running_additional_containers_at_pod_startup.html">
            
                <a href="Running_additional_containers_at_pod_startup.html">
            
                    
                    5.5 Running additional containers at pod startup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.6" data-path="Deleting_pods_and_other_objects.html">
            
                <a href="Deleting_pods_and_other_objects.html">
            
                    
                    5.6 Deleting pods and other objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.7" data-path="Summary_5.html">
            
                <a href="Summary_5.html">
            
                    
                    5.7 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Managing_the_lifecycle_of_the_Pods_containers.html">
            
                <a href="Managing_the_lifecycle_of_the_Pods_containers.html">
            
                    
                    6. Managing the lifecycle of the Pod’s containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="4.3.1" data-path="Understanding_the_pods_status.html">
            
                <a href="Understanding_the_pods_status.html">
            
                    
                    6.1 Understanding the pod's status
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="Keeping_containers_healthy.html">
            
                <a href="Keeping_containers_healthy.html">
            
                    
                    6.2 Keeping containers healthy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="Executing_actions_at_container_startup_and_shutdown.html">
            
                <a href="Executing_actions_at_container_startup_and_shutdown.html">
            
                    
                    6.3 Executing actions at container start-up and shutdown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.4" data-path="Understanding_the_pod_lifecycle.html">
            
                <a href="Understanding_the_pod_lifecycle.html">
            
                    
                    6.4 Understanding the pod lifecycle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.5" data-path="Summary_6.html">
            
                <a href="Summary_6.html">
            
                    
                    6.5 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Mounting_storage_volumes_into_the_Pods_containers.html">
            
                <a href="Mounting_storage_volumes_into_the_Pods_containers.html">
            
                    
                    7. Mounting storage volumes into the Pod’s containers
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="Introducing_volumes.html">
            
                <a href="Introducing_volumes.html">
            
                    
                    7.1 Introducing volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="Using_volumes.html">
            
                <a href="Using_volumes.html">
            
                    
                    7.2 Using volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="Integrating_external_storage_into_pods.html">
            
                <a href="Integrating_external_storage_into_pods.html">
            
                    
                    7.3 Integrating external storage into pods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.4" data-path="Accessing_files_on_the_worker_nodes_filesystem.html">
            
                <a href="Accessing_files_on_the_worker_nodes_filesystem.html">
            
                    
                    7.4 Accessing files on the worker node’s filesystem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.5" data-path="Summary_7.html">
            
                <a href="Summary_7.html">
            
                    
                    7.5 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="Persisting_application_data_with_PersistentVolumes.html">
            
                <a href="Persisting_application_data_with_PersistentVolumes.html">
            
                    
                    8. Persisting application data with PersistentVolumes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="Decoupling_pods_from_the_underlying_storage_technology.html">
            
                <a href="Decoupling_pods_from_the_underlying_storage_technology.html">
            
                    
                    8.1 Decoupling pods from the underlying storage technology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.2" data-path="Creating_persistent_volumes_and_claims.html">
            
                <a href="Creating_persistent_volumes_and_claims.html">
            
                    
                    8.2 Creating persistent volumes and claims
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.3" data-path="Dynamic_provisioning_of_persistent_volumes.html">
            
                <a href="Dynamic_provisioning_of_persistent_volumes.html">
            
                    
                    8.3 Dynamic provisioning of persistent volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.4" data-path="Nodelocal_persistent_volumes.html">
            
                <a href="Nodelocal_persistent_volumes.html">
            
                    
                    8.4 Node-local persistent volumes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.5" data-path="Summary_8.html">
            
                <a href="Summary_8.html">
            
                    
                    8.5 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >6.1 Understanding the pod's status</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="61-understanding-the-pods-status">6.1 Understanding the pod&apos;s status</h1>
<p>After you create a pod object and it runs, you can see what&#x2019;s going on with the pod by reading the pod object back from the API. As you&#x2019;ve learned in chapter 4, the pod object manifest, as well as the manifests of most other kinds of objects, contain a section, which provides the status of the object. A pod&#x2019;s status section contains the following information:</p>
<ul>
<li>the IP addresses of the pod and the worker node that hosts it</li>
<li>when the pod was started</li>
<li>the pod&#x2019;s quality-of-service (QoS) class</li>
<li>what phase the pod is in,</li>
<li>the conditions of the pod, and</li>
<li>the state of its individual containers.</li>
</ul>
<p>The IP addresses and the start time don&#x2019;t need any further explanation, and the QoS class isn&#x2019;t relevant now - you&#x2019;ll learn about it in chapter 19. However, the phase and conditions of the pod, as well as the states of its containers are important for you to understand the pod lifecycle.</p>
<h2 id="understanding-the-pod-phase">Understanding the pod phase</h2>
<p>In any moment of the pod&#x2019;s life, it&#x2019;s in one of the five phases shown in the following figure.</p>
<p>Figure 6.1 The phases of a Kubernetes pod</p>
<p><img src="../images/6.1.png" alt=""></p>
<p>The meaning of each phase is explained in the following table.</p>
<table>
<thead>
<tr>
<th>Pod Phase</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pending</td>
<td>After you create the Pod object, this is its initial phase. Until the pod is scheduled to a node and the images of its containers are pulled and started, it remains in this phase.</td>
</tr>
<tr>
<td>Running</td>
<td>At least one of the pod&#x2019;s containers is running.</td>
</tr>
<tr>
<td>Succeeded</td>
<td>Pods that aren&#x2019;t intended to run indefinitely are marked as Succeeded when all their containers complete successfully.</td>
</tr>
<tr>
<td>Failed</td>
<td>When a pod is not configured to run indefinitely and at least one of its containers terminates unsuccessfully, the pod is marked as Failed.</td>
</tr>
<tr>
<td>Unknown</td>
<td>The state of the pod is unknown because the Kubelet has stopped reporting communicating with the API server. Possibly the worker node has failed or has disconnected from the network.</td>
</tr>
</tbody>
</table>
<p>Table 6.1 List of phases a pod can be in</p>
<p>The pod&#x2019;s phase provides a quick summary of what&#x2019;s happening with the pod. Let&#x2019;s deploy the <code>kubia</code> pod again and inspect its phase. Create the pod by applying the <code>kubia.yaml</code> manifest to your cluster again, as in the previous chapter:</p>
<pre><code class="lang-shell">$ kubectl apply -f kubia.yaml
</code></pre>
<h3 id="displaying-a-pods-phase">Displaying a pod&#x2019;s phase</h3>
<p>The pod&#x2019;s phase is one of the fields in the pod object&#x2019;s <code>status</code> section. You can see it by displaying its manifest and optionally grepping the output to search for the field:</p>
<pre><code class="lang-shell">$ kubectl get po kubia -o yaml | grep phase
phase: Running
</code></pre>
<p><div class="alert alert-info hints-alert"><div class="hints-container"><p>TIP</p>
<p>Remember the <code>jq</code> tool? You can use it instead to print out the value of the <code>phase</code> field like this: <code>kubectl get po kubia -o json | jq .status.phase</code></p>
</div></div></p>
<p>You can also see the pod&#x2019;s phase using kubectl describe. The pod&#x2019;s status is shown close to the top of the output.</p>
<pre><code class="lang-shell">$ kubectl describe po kubia
Name:         kubia
Namespace:    default
...
Status:       Running
...
</code></pre>
<p>Although it may appear that the STATUS column displayed by kubectl get pods also shows the phase, this is only true for pods that are healthy:</p>
<pre><code class="lang-shell">$ kubectl get po kubia
NAME    READY   STATUS    RESTARTS   AGE
kubia   1/1     Running   0          40m
</code></pre>
<p>For unhealthy pods, the <code>STATUS</code> column indicates what&#x2019;s wrong with the pod. You&#x2019;ll see this later in this chapter.</p>
<h2 id="understanding-pod-conditions">Understanding pod conditions</h2>
<p>The phase of a pod says little about the condition of the pod. You can learn more by looking at the pod&#x2019;s list of conditions, just as you did for the node object in the chapter 4. A pod&#x2019;s conditions indicate whether a pod has reached a certain state or not, and why that&#x2019;s the case.</p>
<p>In contrast to the phase, a pod has several conditions at the same time. Four condition types are known at the time of writing. They are explained in the following table.</p>
<table>
<thead>
<tr>
<th>Pod Condition</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PodScheduled</td>
<td>Indicates whether or not the pod has been scheduled to a node.</td>
</tr>
<tr>
<td>Initialized</td>
<td>The pod&#x2019;s init containers have all completed successfully.</td>
</tr>
<tr>
<td>ContainersReady</td>
<td>All containers in the pod indicate that they are ready. This is a necessary but not sufficient condition for the entire pod to be ready.</td>
</tr>
<tr>
<td>Ready</td>
<td>The pod is ready to provide services to its clients. The containers in the pod and the pod&#x2019;s readiness gates are all reporting that they are ready. Note: this is explained in chapter 10.</td>
</tr>
</tbody>
</table>
<p>Table 6.2 List of pod conditions</p>
<p>Each condition is either fulfilled or not. As you can see in the following figure, the <code>PodScheduled</code> and <code>Initialized</code> conditions start as unfulfilled, but are soon fulfilled and remain so throughout the life of the pod. In contrast, the <code>Ready</code> and <code>ContainersReady</code> conditions can change many times during the pod&#x2019;s lifetime.</p>
<p>Figure 6.2 The transitions of the pod&#x2019;s conditions during its lifecycle</p>
<p><img src="../images/6.2.png" alt=""></p>
<p>Do you remember the conditions you can find in a node object? They are <code>MemoryPressure</code>, <code>DiskPressure</code>, <code>PIDPressure</code> and <code>Ready</code>. As you can see, each object has its own set of condition types, but many contain the generic <code>Ready</code> condition, which typically indicates whether everything is fine with the object.</p>
<h3 id="inspecting-the-pods-conditions">Inspecting the pod&#x2019;s conditions</h3>
<p>To see the conditions of a pod, you can use <code>kubectl describe</code> as in the next listing:</p>
<pre><code class="lang-shell">Listing 6.1 Displaying a pod&#x2019;s conditions using kubectl describe
$ kubectl describe po kubia | grep Conditions: -A5
Conditions:
  Type              Status
  Initialized       True            #A
  Ready             True            #B
  ContainersReady   True            #B
  PodScheduled      True            #C
</code></pre>
<p>#A The pod has been initialized</p>
<p>#B The pod and its containers are ready</p>
<p>#C The pod has been scheduled to a node</p>
<p>The <code>kubectl describe</code> command only shows whether each condition is true or not. To find out why a condition is false, you must inspect the pod manifest, as shown in the next listing.</p>
<pre><code class="lang-json">Listing <span class="hljs-number">6.2</span> Displaying a pod&#x2019;s conditions using kubectl and jq
$ kubectl get po kubia -o json | jq .status.conditions
[
  {
    <span class="hljs-string">&quot;lastProbeTime&quot;</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">&quot;lastTransitionTime&quot;</span>: <span class="hljs-string">&quot;2020-02-02T11:42:59Z&quot;</span>,
    <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;True&quot;</span>,
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;Initialized&quot;</span>
  },
  ...
</code></pre>
<p>Each condition has a <code>status</code> field that indicates whether the condition is <code>True</code>, <code>False</code> or <code>Unknown</code>. In the case of the <code>kubia</code> pod, the status of all conditions is <code>True</code>, which means they are all fulfilled. The condition can also contain a <code>reason</code> field that specifies a machine-facing reason for the last change of the condition&#x2019;s status, and a <code>message</code> field that explains the change in detail. The <code>lastTransitionTime</code> field shows when the change occurred, while the <code>lastProbeTime</code> indicates when this condition was last checked.</p>
<h2 id="understanding-the-status-of-the-containers">Understanding the status of the containers</h2>
<p>Also contained in the status of the pod is the status of each of its containers. Inspecting the status provides better insight into the operation of each individual container.</p>
<p>The status contains several fields. The <code>state</code> field indicates the container&#x2019;s current state, whereas the <code>lastState</code> field shows the state of the previous container after it has terminated. The container status also indicates the internal ID of the container (<code>containerID</code>), the <code>image</code> and <code>imageID</code> the container is running, whether the container is <code>ready</code> or not and how often it has been restarted (<code>restartCount</code>).</p>
<h3 id="understanding-the-container-state">Understanding the container state</h3>
<p>The most important part of a container&#x2019;s status is its <code>state</code>. A container can be in one of the states shown in the following figure.</p>
<p>Figure 6.3 The possible states of a container</p>
<p><img src="../images/6.3.png" alt=""></p>
<p>Individual states are explained in the following table.</p>
<table>
<thead>
<tr>
<th>Container State</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Waiting</td>
<td>The container is waiting to be started. The reason and message fields indicate why the container is in this state.</td>
</tr>
<tr>
<td>Running</td>
<td>The container has been created and processes are running in it. The startedAt field indicates the time at which this container was started.</td>
</tr>
<tr>
<td>Terminated</td>
<td>The processes that had been running in the container have terminated. The startedAt and finishedAt fields indicate when the container was started and when it terminated. The exit code with which the main process terminated is in the exitCode field.</td>
</tr>
<tr>
<td>Unknown</td>
<td>The state of the container couldn&#x2019;t be determined.</td>
</tr>
</tbody>
</table>
<p>Table 6.3 Possible container states</p>
<h3 id="displaying-the-status-of-the-pods-containers">Displaying the status of the pod&#x2019;s containers</h3>
<p>The pod list displayed by <code>kubectl get pods</code> shows only the number of containers in each pod and how many of them are ready. To see the status of individual containers, you must use <code>kubectl describe</code>, as shown in the following listing.</p>
<pre><code class="lang-shell">Listing 6.3 Inspecting a container&#x2019;s status using kubectl describe
$ kubectl describe po kubia | grep Containers: -A15
Containers:
  kubia:
    Container ID:   docker://c64944a684d57faacfced0be1af44686...
    Image:          luksa/kubia:1.0
    Image ID:       docker-pullable://luksa/kubia@sha256:3f28...
    Port:           8080/TCP
    Host Port:      0/TCP
    State:          Running                                      #A
      Started:      Sun, 02 Feb 2020 12:43:03 +0100              #A
    Ready:          True                                         #B
    Restart Count:  0                                            #C
    Environment:    &lt;none&gt;
    Mounts:
      ...
</code></pre>
<p>#A The current state of the container and when it was started</p>
<p>#B Whether the container is ready to provide its services</p>
<p>#C How many times the container has been restarted</p>
<p>Focus on the annotated lines in the listing, as they indicate whether the container is healthy. The <code>kubia</code> container is <code>Running</code> and is <code>Ready</code>. It has never been restarted.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-container"><p>TIP</p>
<p>You can also display the container status(es) using jq like this: <code>kubectl get po kubia -o json | jq .status.containerStatuses</code></p>
</div></div></p>
<h3 id="inspecting-the-status-of-an-init-container">Inspecting the status of an init container</h3>
<p>In the previous chapter, you learned that in addition to regular containers, a pod can also have init containers that run when the pod starts. As with regular containers, the status of these containers is available in the status section of the pod object manifest, but in the <code>initContainerStatuses</code> field.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-container"><p>INSPECTING THE STATUS OF THE KUBIA-INIT POD</p>
<p>As an additional exercise you can try on your own, create the pod defined in the <code>kubia-init.yaml</code> file from the previous chapter and inspect its phase, conditions and the status of its two regular and two init containers using <code>kubectl describe</code> and by retrieving the pod manifest using the <code>kubectl get po kubia-init -o json | jq .status</code> command.</p>
</div></div></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Managing_the_lifecycle_of_the_Pods_containers.html" class="navigation navigation-prev " aria-label="Previous page: 6. Managing the lifecycle of the Pod’s containers">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Keeping_containers_healthy.html" class="navigation navigation-next " aria-label="Next page: 6.2 Keeping containers healthy">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"6.1 Understanding the pod's status","level":"4.3.1","depth":2,"next":{"title":"6.2 Keeping containers healthy","level":"4.3.2","depth":2,"path":"docs/Keeping_containers_healthy.md","ref":"docs/Keeping_containers_healthy.md","articles":[]},"previous":{"title":"6. Managing the lifecycle of the Pod’s containers","level":"4.3","depth":1,"path":"docs/Managing_the_lifecycle_of_the_Pods_containers.md","ref":"docs/Managing_the_lifecycle_of_the_Pods_containers.md","articles":[{"title":"6.1 Understanding the pod's status","level":"4.3.1","depth":2,"path":"docs/Understanding_the_pods_status.md","ref":"docs/Understanding_the_pods_status.md","articles":[]},{"title":"6.2 Keeping containers healthy","level":"4.3.2","depth":2,"path":"docs/Keeping_containers_healthy.md","ref":"docs/Keeping_containers_healthy.md","articles":[]},{"title":"6.3 Executing actions at container start-up and shutdown","level":"4.3.3","depth":2,"path":"docs/Executing_actions_at_container_startup_and_shutdown.md","ref":"docs/Executing_actions_at_container_startup_and_shutdown.md","articles":[]},{"title":"6.4 Understanding the pod lifecycle","level":"4.3.4","depth":2,"path":"docs/Understanding_the_pod_lifecycle.md","ref":"docs/Understanding_the_pod_lifecycle.md","articles":[]},{"title":"6.5 Summary","level":"4.3.5","depth":2,"path":"docs/Summary_6.md","ref":"docs/Summary_6.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["page-toc-button","cnzz","hints","sitemap-general"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"search":{},"cnzz":{"style":"1","visible":true,"siteid":"1278605528"},"hints":{"danger":"fa fa-bug","info":"fa fa-info-circle","tip":"fa fa-sticky-note","working":"fa fa-cog fa-spin"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sitemap-general":{"prefix":"https://wangwei1237.gitee.io/kubernetes-in-action-second-edition"},"fontsettings":{"theme":"white","family":"serif","size":2},"highlight":{},"page-toc-button":{"maxTocDepth":2,"minTocSize":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"wangwei17","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":16,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":true},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"isbn":"","variables":{},"title":"Kubernetes实战（第二版）","links":{"sharing":{"all":null,"facebook":null,"google":null,"twitter":null,"weibo":null},"sidebar":{"17哥的个人网站":"https://wangwei1237.gitee.io/"}},"gitbook":"*","description":"Kubernetes实战（第二版）","extension":null},"file":{"path":"docs/Understanding_the_pods_status.md","mtime":"2020-11-22T04:05:57.768Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-10T08:08:07.100Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-cnzz/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

